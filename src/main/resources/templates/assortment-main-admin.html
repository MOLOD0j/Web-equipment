<!--
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Ассортимент</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container py-3">
    <header th:insert="blocks/header :: header"></header>
</div>
<div class="container mt-5 md-10">
<input type="text" id="mySearch" onkeyup="sort_menu()"  placeholder="Поиск" class="form-control">
</div>
<div class="container mt-5">
    <h1>Ассортимент</h1>
    <ul id="myMenu">
        <div th:each="el : ${posts}" class="alert alert-info mt-2">
            <li>
                <h3 th:text="${el.name}"/>
                <p th:text="${el.category}"/>
                <a th:href="'/assortment/' + ${el.id}" class="btn btn-warning">Подробнее</a>
            </li>
        </div>
    </ul>
</div>

<footer th:insert="blocks/footer :: footer"></footer>

</div>
<script>
    function sort_menu() {
        var input, filter, ul, li, a, i;
        input = document.getElementById("mySearch");
        filter = input.value.toUpperCase();
        ul = document.getElementById("myMenu");
        li = ul.getElementsByTagName("li");
        var div = document.getElementsByClassName("alert-info");
        for (i = 0; i < li.length; i++) {
            a = li[i].getElementsByTagName("h3")[0];
            if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
                div[i].style.display = "";
            }
            else {
                div[i].style.display = "none";
            }
        }
    }
</script>
</body>
</html>-->


<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Ассортимент</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
  <style>
    select{
      display: block;
      width: 100%;
      padding: .375rem .75rem;
      font-size: 1rem;
      font-weight: 400;
      line-height: 1.5;
      color: #212529;
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid #ced4da;
      border-radius: .25rem;
      transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }
  </style>
</head>
<body>
<div class="container py-3">
  <header th:insert="blocks/header_admin :: header_admin"></header>
</div>
<div class="container mt-5 md-10">
  <h2>Поиск по названию</h2>
  <input type="text" id="mySearch" onkeyup="sort_menu()" placeholder="Поиск" class="form-control">
  <h2>Поиск по категории</h2>
  <select>
    <option selected>Весь ассортимент</option>
    <optgroup label="Кардиотренажеры">
      <option>БЕГОВЫЕ ДОРОЖКИ</option>
      <option>ЭЛЛИПТИЧЕСКИЕ ТРЕНАЖЕРЫ</option>
      <option>СТЕППЕРЫ</option>
      <option>ГРЕБНЫЕ ТРЕНАЖЕРЫ</option>
      <option>ВЕЛОТРЕНАЖЕРЫ</option>
      <option>РАЙДЕРЫ</option>
      <option>МИНИСТАДИОНЫ</option>
    </optgroup>
    <optgroup label="Силовые тренажеры">
      <option>МУЛЬТИСТАНЦИИ И СИЛОВЫЕ КОМПЛЕКСЫ</option>
      <option>СКАМЬИ</option>
      <option>СКАМЬИ СО СТОЙКАМИ ПОД ШТАНГУ</option>
      <option>СИЛОВЫЕ РАМЫ И СТОЙКИ</option>
      <option>ТРЕНАЖЕРЫ ДЛЯ ПРЕССА</option>
      <option>ГИПЕРЭКСТЕНЗИИ И РИМСКИЕ СТУЛЬЯ</option>
      <option>ТУРНИКИ И БРУСЬЯ</option>
      <option>МАШИНЫ СМИТА</option>
      <option>КРОССОВЕРЫ</option>
      <option>СО ВСТРОЕННЫМИ ВЕСАМИ</option>
      <option>СТОЙКИ ПОД ГАНТЕЛИ, ДИСКИ, ГРИФЫ</option>
      <option>ГОРНОЛЫЖНЫЕ ТРЕНАЖЕРЫ</option>
      <option>ИНВЕРСИЯ И РАСТЯЖКА</option>
      <option>ОПЦИИ ДЛЯ СИЛОВЫХ ТРЕНАЖЕРОВ</option>
      <option>ФУНКЦИОНАЛЬНЫЙ ТРЕНИНГ</option>
    </optgroup>
    <optgroup label="Оздоровительное оборудование">
      <option>ВИБРОМАССАЖЕРЫ</option>
      <option>ВИБРОПЛАТФОРМЫ</option>
      <option>МАССАЖНЫЕ СТОЛЫ</option>
      <option>МАССАЖНЫЕ КРЕСЛА</option>
      <option>ИНВЕРСИЯ И РАСТЯЖКА</option>
    </optgroup>
    <optgroup label="Игровые виды спорта">
      <option>НАСТОЛЬНЫЙ ТЕННИС</option>
      <option>БАСКЕТБОЛ</option>
      <option>ИГРОВЫЕ СТОЛЫ</option>
      <option>ДЕТСКИЕ СПОРТИВНЫЕ КОМПЛЕКСЫ ДЛЯ УЛИЦЫ</option>
      <option>ЭЛЕКТРОСАМОКАТЫ</option>
    </optgroup>
    <optgroup label="Спортивные батуты">
      <option>МИНИ БАТУТЫ ДЛЯ ДОМА</option>
      <option>БАТУТЫ БЕЗ ЗАЩИТНОЙ СЕТИ</option>
      <option>БАТУТЫ С ЗАЩИТНОЙ СЕТЬЮ</option>
      <option>НАДУВНЫЕ БАТУТЫ</option>
      <option>ДЕТСКИЕ БАТУТЫ</option>
      <option>АКСЕССУАРЫ</option>
    </optgroup>
    <optgroup label="Железо для спортзала">
      <option>ГАНТЕЛИ</option>
      <option>ШТАНГИ</option>
      <option>ГРИФЫ</option>
      <option>ДИСКИ</option>
      <option>ГИРИ</option>
      <option>БЛОЧНЫЕ РУЧКИ</option>
      <option>АКСЕССУАРЫ</option>
    </optgroup>
  </select>
</div>
<div class="container mt-5">
  <h1>Ассортимент</h1>
  <ul id="myMenu">
    <div th:each="el : ${posts}" class="alert alert-info mt-2">
      <li>
        <h3 th:text="${el.name}"/>
        <p class="cat" th:text="${el.category}"/>
        <a th:href="'/assortment_admin/' + ${el.id}" class="btn btn-warning">Подробнее</a>
      </li>
    </div>
  </ul>
</div>

<footer th:insert="blocks/footer :: footer"></footer>

</div>
<script>
  function sort_menu() {
    var input, filter, ul, li, a, i;
    input = document.getElementById("mySearch");
    filter = input.value.toUpperCase();
    ul = document.getElementById("myMenu");
    li = ul.getElementsByTagName("li");
    var div = document.getElementsByClassName("alert-info");
    for (i = 0; i < li.length; i++) {
      a = li[i].getElementsByTagName("h3")[0];
      if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
        div[i].style.display = "";
      }
      else {
        div[i].style.display = "none";
      }
    }
  }
  document.querySelector("select").addEventListener('change', function (e) {
    var input, filter, ul, li, a, i;
    input = document.getElementsByTagName("select")[0];
    console.log(input.value);
    filter = input.value.toUpperCase();
    ul = document.getElementById("myMenu");
    li = ul.getElementsByTagName("li");
    var div = document.getElementsByClassName("alert-info");
    if (input.value == "Весь ассортимент"){
      for (i = 0; i < li.length; i++) {
        div[i].style.display = "";
      }
      return;
    }
    for (i = 0; i < li.length; i++) {
      a = li[i].getElementsByTagName("p")[0];
      if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
        div[i].style.display = "";
      }
      else {
        div[i].style.display = "none";
      }
    }
  })
</script>
</body>
</html>